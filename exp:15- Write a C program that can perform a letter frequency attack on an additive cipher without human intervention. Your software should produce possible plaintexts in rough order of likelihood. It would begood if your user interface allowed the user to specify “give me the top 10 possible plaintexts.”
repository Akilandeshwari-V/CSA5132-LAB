#include <stdio.h>
#include <string.h>
#include <math.h>
double e[]={8.2,1.5,2.8,4.3,13,2.2,2,6.1,7,0.15,0.77,4,2.4,6.7,7.5,1.9,0.095,6,6.3,9.1,2.8,1,2.4,0.15,2,0.074};
int m(int x){x%=26;return x<0?x+26:x;}
int main(){
char c[500];int n,i,j,k;scanf("%d\n",&n);fgets(c,500,stdin);
double s[26];int o[26];
for(k=0;k<26;k++){
double x=0;int f[26]={0},t=0;
for(i=0;c[i];i++)if(c[i]>='A'&&c[i]<='Z'){f[m(c[i]-'A'-k)]++;t++;}
for(j=0;j<26;j++){double p=100.0*f[j]/t;x+=fabs(p-e[j]);}
s[k]=x;o[k]=k;
}
for(i=0;i<26;i++)for(j=i+1;j<26;j++)if(s[o[i]]>s[o[j]]){int t=o[i];o[i]=o[j];o[j]=t;}
for(i=0;i<n;i++){
printf("Key %d: ",o[i]);
for(j=0;c[j];j++)putchar(c[j]>='A'&&c[j]<='Z'?m(c[j]-'A'-o[i])+'A':c[j]);
}
}
